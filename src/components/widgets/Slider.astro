---
//import { Image } from 'astro:assets';
import Image from '~/components/common/Image.astro';

const images = Astro.props.images;
---

<div class="glide">
    <div class="glide__track" data-glide-el="track">
      <ul class="glide__slides place-items-center">
        {images.map((image) => (
          <li class="glide__slide">
            {/* <Image src={image.src} alt={image.alt} loading="lazy"/> */
            <Image
                //class="mx-auto w-full rounded-lg bg-gray-500 shadow-lg"
                width={500}
                height={500}
                widths={[400, 768]}
                sizes="(max-width: 768px) 100vw, 432px"
                layout="responsive"
                {...image}
            />
          }
          </li>
        ))}
      </ul>
    </div>
</div>


<script src="/js/glide.min.js" defer></script>
<script is:inline>
    // Initialize Glide.js after the DOM is ready
    document.addEventListener('DOMContentLoaded', () => {
        const sliders = document.querySelectorAll('.glide');

        sliders.forEach((slider) => {
            new Glide(slider, {
            type: 'carousel',
            perView: 1, // Adjust to your needs
            focusAt: 'center',
            gap: 10, // Space between slides
            }).mount();
        });
    });
</script>
